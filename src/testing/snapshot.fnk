{serialize} = import './serialize'


print = fn ast:
  match ast:
    {errors: [{}]}:
      {errors} = ast

      errors_text = pipe errors:
        map {error}:
          error
        fold err, str='':
          `${str}${err}\n`

      `
        ${serialize ast}

        error:
        ${errors_text}
      `
    else:
      serialize ast


test = fn val:
  match val:
    {type: {}, loc: {}}: true
    {type: {}, errors: []}: true
    else: false

jest_serializer = {print, test}


