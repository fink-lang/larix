{describe, it, eq, is, snapshot} = import '../../testing/jest'

{init_parser, start_parser, next_is_end, next_loc} = import '@fink/prattler'

{init_language} = import '..'


describe:: 'whitespace', fn:
  init_test_parser = fn code:
    pipe {code}:
      init_parser
      init_language
      start_parser

  it:: 'ignores whitespace', fn:
    ctx = init_test_parser(` \t\n`)

    next_is_end(ctx) is true

    next_loc(ctx) eq {
      start: {pos: 3, line: 2, column: 0},
      end: {pos: 3, line: 2, column: 0}
    }
