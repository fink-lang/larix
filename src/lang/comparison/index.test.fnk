{describe, it, expect, to_match_snapshot} = import '@fink/jest'

{parse_expr} = import '../../'


describe 'comparison', fn:

  it 'parses ==', fn:
    expect
      parse_expr 'a == b'
      to_match_snapshot

    expect
      parse_expr 'a + b == c'
      to_match_snapshot

    expect
      parse_expr 'a == b == c'
      to_match_snapshot


  it 'parses !=', fn:
    expect
      parse_expr 'a != b'
      to_match_snapshot

    expect
      parse_expr 'a != b != c'
      to_match_snapshot

    expect
      parse_expr 'a + b != c'
      to_match_snapshot


  it 'parses <=', fn:
    expect
      parse_expr 'a <= b'
      to_match_snapshot

    expect
      parse_expr 'a <= b <= c'
      to_match_snapshot

    expect
      parse_expr 'a + b <= c'
      to_match_snapshot


  it 'parses >=', fn:
    expect
      parse_expr 'a >= b'
      to_match_snapshot

    expect
      parse_expr 'a >= b >= c'
      to_match_snapshot

    expect
      parse_expr 'a + b >= c'
      to_match_snapshot


  it 'parses >', fn:
    expect
      parse_expr 'a > b'
      to_match_snapshot

    expect
      parse_expr 'a > b > c'
      to_match_snapshot

    expect
      parse_expr 'a + b > c'
      to_match_snapshot


  it 'parses <', fn:
    expect
      parse_expr 'a < b'
      to_match_snapshot

    expect
      parse_expr 'a < b < c'
      to_match_snapshot

    expect
      parse_expr 'a + b < c'
      to_match_snapshot

    expect
      parse_expr
        '
          a + b <incomplete_jsx
        '
      to_match_snapshot

