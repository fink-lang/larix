{describe, it, expect, to_match_snapshot} = import '../../testing/jest'

{parse_expr} = import '../../'


describe:: 'arithmitic', fn:

  it:: 'parses single line: a + b * c', fn:
    expect::
      parse_expr:: `a + b * c`
      to_match_snapshot


  it:: 'parses single line: a * b + c', fn:
    expect::
      parse_expr:: `a * b + c`
      to_match_snapshot


  it:: 'parses single line: a % b / c', fn:
    expect::
      parse_expr:: `a % b / c`
      to_match_snapshot


  it:: 'parses single line: a ^ b * c', fn:
    expect::
      parse_expr:: `a ^ b * c`
      to_match_snapshot


  it:: 'parses single line: a * -b', fn:
    expect::
      parse_expr:: `a * -b`
      to_match_snapshot


  it:: 'parses grouped: (a - b) * c', fn:
    expect::
      parse_expr:: `(a - b) * c`
      to_match_snapshot


  it:: 'parses multiline', fn:
    expect::
      parse_expr:: `
        a
          + b +
          c
            + d
      `
      to_match_snapshot

