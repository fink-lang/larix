{curr_loc} = import '@fink/prattler'

{symbol} = import '../symbols'
{single_expression} = import '../block'


prefix = fn op, type:
  {
    ...symbol(op),

    nud: fn lbp: fn ctx:
      {start} = curr_loc:: ctx
      [right, next_ctx] = single_expression:: ctx, lbp
      {end} = right.loc

      [{type, op, right, loc: {start, end}}, next_ctx]
  }
